/*
 * Swipe 1.0
 *
 * Brad Birdsall, Prime
 * Copyright 2011, Licensed GPL & MIT
 *
*/
window.Swipe=function(a,b){if(!a)return null;this.options=b||{};this.index=this.options.startSlide||0;this.speed=this.options.speed||300;this.callback=this.options.callback||function(){};this.delay=this.options.auto||0;this.container=a;this.element=this.container.children[0];this.container.style.overflow="hidden";this.element.style.listStyle="none";this.setup();this.start();this.element.addEventListener&&(this.element.addEventListener("touchstart",this,!1),this.element.addEventListener("touchmove", this,!1),this.element.addEventListener("touchend",this,!1),this.element.addEventListener("webkitTransitionEnd",this,!1),this.element.addEventListener("msTransitionEnd",this,!1),this.element.addEventListener("oTransitionEnd",this,!1),this.element.addEventListener("transitionend",this,!1),window.addEventListener("resize",this,!1))}; Swipe.prototype={setup:function(){this.slides=this.element.children;this.length=this.slides.length;if(2>this.length)return null;this.width=this.container.getBoundingClientRect().width;if(!this.width)return null;this.container.style.visibility="hidden";this.element.style.width=this.slides.length*this.width+"px";for(var a=this.slides.length;a--;){var b=this.slides[a];b.style.width=this.width+"px";b.style.display="table-cell";b.style.verticalAlign="top"}this.slide(this.index,0);this.container.style.visibility= "visible"},slide:function(a,b){var c=this.element.style;c.webkitTransitionDuration=c.MozTransitionDuration=c.msTransitionDuration=c.OTransitionDuration=c.transitionDuration=b+"ms";c.webkitTransform="translate3d("+-(a*this.width)+"px,0,0)";c.msTransform=c.MozTransform=c.OTransform="translateX("+-(a*this.width)+"px)";this.index=a},getPos:function(){return this.index},prev:function(a){this.delay=a||0;clearTimeout(this.interval);this.index&&this.slide(this.index-1,this.speed)},next:function(a){this.delay= a||0;clearTimeout(this.interval);this.index<this.length-1?this.slide(this.index+1,this.speed):this.slide(0,this.speed)},start:function(){var a=this;this.interval=this.delay?setTimeout(function(){a.next(a.delay)},this.delay):0},handleEvent:function(a){switch(a.type){case "touchstart":this.onTouchStart(a);break;case "touchmove":this.onTouchMove(a);break;case "touchend":this.onTouchEnd(a);break;case "webkitTransitionEnd":case "msTransitionEnd":case "oTransitionEnd":case "transitionend":this.transitionEnd(a); break;case "resize":this.setup()}},transitionEnd:function(a){this.delay&&this.start();this.callback(a,this.index,this.slides[this.index])},onTouchStart:function(a){clearTimeout(this.interval);this.start={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY,time:Number(new Date)};this.isScrolling=void 0;this.deltaX=0;this.element.style.webkitTransitionDuration=0},onTouchMove:function(a){if(!(1<a.touches.length||a.scale&&1!==a.scale)){this.deltaX=a.touches[0].pageX-this.start.pageX;if("undefined"==typeof this.isScrolling)this.isScrolling= !!(this.isScrolling||Math.abs(this.deltaX)<Math.abs(a.touches[0].pageY-this.start.pageY));if(!this.isScrolling)a.preventDefault(),this.deltaX/=!this.index&&0<this.deltaX||this.index==this.length-1&&0>this.deltaX?Math.abs(this.deltaX)/this.width+1:1,this.element.style.webkitTransform="translate3d("+(this.deltaX-this.index*this.width)+"px,0,0)"}},onTouchEnd:function(){var a=250>Number(new Date)-this.start.time&&20<Math.abs(this.deltaX)||Math.abs(this.deltaX)>this.width/2,b=!this.index&&0<this.deltaX|| this.index==this.length-1&&0>this.deltaX;this.isScrolling||this.slide(this.index+(a&&!b?0>this.deltaX?1:-1:0),this.speed)}};function getInternetExplorerVersion(){var a=-1;"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(a=parseFloat(RegExp.$1));return a}window.SwipeIE=function(a,b){if(!a)return null;this.options=b||{};this.index=this.options.startSlide||0;this.element=a;this.ul=$(a).first();this.setup()}; SwipeIE.prototype={setup:function(){this.slides=this.ul.find("li");this.length=this.slides.length},slide:function(a){$(this.element).find("li").hide();$(this.slides[a]).show().find("img").show();this.index=a;"undefined"!=typeof this.options.slideCallback&&this.options.slideCallback()},getPos:function(){return this.index},prev:function(){this.index&&this.slide(this.index-1)},next:function(){this.index<this.length-1?this.slide(this.index+1):this.slide(0)}};